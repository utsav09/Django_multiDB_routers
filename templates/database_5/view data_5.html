{% extends 'base.html' %}

{% block head %}
    <title>Database - {{ db }}</title>
{% endblock %}

{% block body %}
    <div class="container">
    <div class="row justify-content-center">
    <div class="col-6">
        {% load crispy_forms_tags %}
        <form action="{% url 'save_5' %}" method="post">
            {% csrf_token %}
            <br><div style="text-align: center;">
            <h2>Insert Data to Database {{ db }}</h2></div>
            <br>

            <div id="div_id_product" class="form-group">
                <label for="id_product" class="col-form-label  requiredField">Product<span class="asteriskField">*</span></label>
                <div class=""> <input type="text" name="product"  maxlength="255" class="textinput textInput form-control" required id="id_product"> </div> </div>

            <div id="div_id_price" class="form-group">
                <label for="id_price" class="col-form-label  requiredField">Price<span class="asteriskField">*</span></label>
                <div class=""> <input type="number" name="price"  class="numberinput form-control" required id="id_price"> </div> </div>
            <div id="div_id_quantity" class="form-group">
                <label for="id_quantity" class="col-form-label  requiredField">Quantity<span class="asteriskField">*</span></label>
                <div class=""><input type="number" name="quantity" class="numberinput form-control" required id="id_quantity"> </div> </div>
            <br>
            <div style="text-align: center;"><button class="btn btn-lg btn-outline-dark">Insert Data</button></div>
            <br><br>
        </form>
    </div>
    </div>
    <table class="table table-hover">
        <thead class="table-dark">
        <tr>
            <th>Id</th>
            <th>Product Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>User</th>
            <th>Action</th>
        </tr>
        </thead>
        <tbody>
            {% for x in result %}
                <tr>
                <td><b>{{ x.id }}</b></td>
                <td>{{ x.product }}</td>
                <td>{{ x.price }}</td>
                <td>{{ x.quantity }}</td>
                <td><b>{{ x.user.capitalize }}</b></td>
                <td><a href="{% url 'update_5' x.id %}" class="btn col-5 btn-warning">Edit</a> <a href="{% url 'delete_5' x.id %}" class="btn col-5 btn-danger">Delete</a></td>
                </tr>
            {% endfor %}

        </tbody>
    </table>
    {{ a }}
    </div>
{% endblock %}